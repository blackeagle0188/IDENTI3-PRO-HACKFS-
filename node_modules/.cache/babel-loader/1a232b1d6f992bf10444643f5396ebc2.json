{"ast":null,"code":"import _objectSpread from\"/Users/oisinlyons/Downloads/IDENTI3 PRO/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"/Users/oisinlyons/Downloads/IDENTI3 PRO/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _slicedToArray from\"/Users/oisinlyons/Downloads/IDENTI3 PRO/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _excluded=[\"type\",\"show\",\"lists\"];import React,{useState}from\"react\";import moment from\"moment-timezone\";import Datetime from\"react-datetime\";import{ArchiveIcon,CalendarIcon,CameraIcon,CheckIcon,ClipboardCheckIcon,ClockIcon,EyeIcon,PaperClipIcon,PlusIcon,SelectorIcon,ShareIcon,TagIcon,UserGroupIcon}from\"@heroicons/react/solid\";import{Col,Row,Form,Modal,Button,InputGroup,Image,Badge,FloatingLabel}from'react-bootstrap';import KanbanAvatar from\"components/KanbanAvatar\";import{Members as BoardMembers,Labels as BoardLabels}from\"data/kanban\";export var EventModal=function EventModal(props){var _useState=useState(props.title),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(props.start),_useState4=_slicedToArray(_useState3,2),start=_useState4[0],setStart=_useState4[1];var _useState5=useState(props.end),_useState6=_slicedToArray(_useState5,2),end=_useState6[0],setEnd=_useState6[1];var _props$show=props.show,show=_props$show===void 0?false:_props$show,_props$edit=props.edit,edit=_props$edit===void 0?false:_props$edit,id=props.id;var startDate=start?moment(start).format(\"YYYY-MM-DD\"):moment().format(\"YYYY-MM-DD\");var endDate=end?moment(end).format(\"YYYY-MM-DD\"):moment(start).format(\"YYYY-MM-DD\");var onTitleChange=function onTitleChange(e){return setTitle(e.target.value);};var onConfirm=function onConfirm(){var sameDay=startDate===endDate;var finalStart=sameDay?moment(startDate).toDate():moment(startDate).startOf('day').toDate();var finalEnd=sameDay?null:moment(endDate).endOf('day').toDate();var payload={id:id,title:title,sameDay:sameDay,start:finalStart,end:finalEnd};if(edit){return props.onUpdate&&props.onUpdate(payload);}return props.onAdd&&props.onAdd(payload);};var onDelete=function onDelete(){return edit&&props.onDelete&&props.onDelete(id);};var onHide=function onHide(){return props.onHide&&props.onHide();};return/*#__PURE__*/React.createElement(Modal,{as:Modal.Dialog,centered:true,show:show,onHide:onHide},/*#__PURE__*/React.createElement(Form,{className:\"modal-content\"},/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(Form.Group,{id:\"title\",className:\"mb-4\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Event title\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,autoFocus:true,type:\"text\",value:title,onChange:onTitleChange})),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:12,lg:6},/*#__PURE__*/React.createElement(Form.Group,{id:\"startDate\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Select start date\"),/*#__PURE__*/React.createElement(Datetime,{timeFormat:false,onChange:setStart,renderInput:function renderInput(props,openCalendar){return/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(InputGroup.Text,null,/*#__PURE__*/React.createElement(CalendarIcon,{className:\"icon icon-xs\"})),/*#__PURE__*/React.createElement(Form.Control,{required:true,type:\"text\",placeholder:\"YYYY-MM-DD\",value:startDate,onFocus:openCalendar,onChange:function onChange(){}}));}}))),/*#__PURE__*/React.createElement(Col,{xs:12,lg:6},/*#__PURE__*/React.createElement(Form.Group,{id:\"endDate\",className:\"mb-2\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Select end date\"),/*#__PURE__*/React.createElement(Datetime,{timeFormat:false,onChange:setEnd,isValidDate:function isValidDate(currDate){return currDate.isSameOrAfter(start);},initialViewDate:end||start,renderInput:function renderInput(props,openCalendar){return/*#__PURE__*/React.createElement(InputGroup,null,/*#__PURE__*/React.createElement(InputGroup.Text,null,/*#__PURE__*/React.createElement(CalendarIcon,{className:\"icon icon-xs\"})),/*#__PURE__*/React.createElement(Form.Control,{required:true,type:\"text\",placeholder:\"YYYY-MM-DD\",value:endDate,onFocus:openCalendar,onChange:function onChange(){}}));}}))))),/*#__PURE__*/React.createElement(Modal.Footer,null,/*#__PURE__*/React.createElement(Button,{variant:\"primary\",className:\"me-2\",onClick:onConfirm},edit?\"Update event\":\"Add new event\"),edit?/*#__PURE__*/React.createElement(Button,{variant:\"danger\",onClick:onDelete},\"Delete event\"):null,/*#__PURE__*/React.createElement(Button,{variant:\"link\",className:\"text-gray ms-auto\",onClick:onHide},\"Close\"))));};export var KanbanCreateModal=function KanbanCreateModal(props){var _props$modalTitle=props.modalTitle,modalTitle=_props$modalTitle===void 0?\"Add a new card\":_props$modalTitle,_props$type=props.type,type=_props$type===void 0?\"card\":_props$type,_props$show2=props.show,show=_props$show2===void 0?false:_props$show2;var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),title=_useState8[0],setTitle=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),description=_useState10[0],setDescription=_useState10[1];var onTitleChange=function onTitleChange(e){return setTitle(e.target.value);};var onDescriptionChange=function onDescriptionChange(e){return setDescription(e.target.value);};var onHide=function onHide(){return props.onHide&&props.onHide();};var onSubmit=function onSubmit(){var payload={title:title,description:description};return props.onSubmit&&props.onSubmit(payload);};return/*#__PURE__*/React.createElement(Modal,{as:Modal.Dialog,centered:true,show:show,onHide:onHide},/*#__PURE__*/React.createElement(Form,{className:\"modal-content p-3\"},/*#__PURE__*/React.createElement(Modal.Header,{className:\"pb-0 border-0\"},/*#__PURE__*/React.createElement(\"h5\",{as:Modal.Title,className:\"fw-normal\"},modalTitle),/*#__PURE__*/React.createElement(Button,{variant:\"close\",onClick:onHide})),/*#__PURE__*/React.createElement(Modal.Body,{className:\"pb-0\"},/*#__PURE__*/React.createElement(Form.Group,{id:\"title\",className:\"mb-3\"},/*#__PURE__*/React.createElement(Form.Control,{required:true,autoFocus:true,type:\"text\",value:title,onChange:onTitleChange,placeholder:\"Enter a title for this \".concat(type,\"\\u2026\")})),type===\"card\"&&/*#__PURE__*/React.createElement(Form.Group,{id:\"description\",className:\"mb-3\"},/*#__PURE__*/React.createElement(Form.Control,{required:true,autoFocus:true,multiple:true,as:\"textarea\",value:description,onChange:onDescriptionChange,placeholder:\"Enter a description for this \".concat(type,\"\\u2026\")}))),/*#__PURE__*/React.createElement(Modal.Footer,{className:\"justify-content-start border-0 pt-0\"},/*#__PURE__*/React.createElement(Button,{variant:\"outline-gray-500\",onClick:onHide},\"Close\"),/*#__PURE__*/React.createElement(Button,{variant:\"secondary\",className:\"d-inline-flex align-items-center\",onClick:onSubmit},/*#__PURE__*/React.createElement(PlusIcon,{className:\"icon icon-xs me-2\"}),\"Add \",type))));};export var KanbanCopyModal=function KanbanCopyModal(props){var _props$title,_props$listId;var _props$type2=props.type,type=_props$type2===void 0?\"card\":_props$type2,_props$show3=props.show,show=_props$show3===void 0?false:_props$show3,_props$lists=props.lists,lists=_props$lists===void 0?[]:_props$lists,otherProps=_objectWithoutProperties(props,_excluded);var _useState11=useState((_props$title=props.title)!==null&&_props$title!==void 0?_props$title:\"\"),_useState12=_slicedToArray(_useState11,2),title=_useState12[0],setTitle=_useState12[1];var _useState13=useState((_props$listId=props.listId)!==null&&_props$listId!==void 0?_props$listId:\"\"),_useState14=_slicedToArray(_useState13,2),listId=_useState14[0],setListId=_useState14[1];var onHide=function onHide(){props.onHide&&props.onHide();};var onSubmit=function onSubmit(){var payload=_objectSpread(_objectSpread({},otherProps),{},{title:title,listId:listId});return props.onSubmit&&props.onSubmit(payload);};return/*#__PURE__*/React.createElement(Modal,{as:Modal.Dialog,centered:true,show:show,onHide:onHide},/*#__PURE__*/React.createElement(Form,{className:\"modal-content p-3\"},/*#__PURE__*/React.createElement(Modal.Header,{className:\"pb-0 border-0\"},/*#__PURE__*/React.createElement(Modal.Title,{className:\"fw-normal\"},\"Copy \",type),/*#__PURE__*/React.createElement(Button,{variant:\"close\",onClick:onHide})),/*#__PURE__*/React.createElement(Modal.Body,{className:\"pb-0\"},/*#__PURE__*/React.createElement(Form.Group,{id:\"title\",className:\"mb-3\"},/*#__PURE__*/React.createElement(Form.Control,{autoFocus:true,type:\"text\",value:title,onChange:function onChange(e){return setTitle(e.target.value);},onFocus:function onFocus(e){return e.target.select();}})),type===\"card\"&&/*#__PURE__*/React.createElement(FloatingLabel,{id:\"list\",label:\"Copy to list..\",className:\"mb-3\"},/*#__PURE__*/React.createElement(Form.Select,{value:listId,onChange:function onChange(e){return setListId(e.target.value);}},lists.map(function(l){return/*#__PURE__*/React.createElement(\"option\",{value:l.id,key:\"copy-card-option-\".concat(l.id)},l.title);})))),/*#__PURE__*/React.createElement(Modal.Footer,{className:\"justify-content-start border-0 pt-0\"},/*#__PURE__*/React.createElement(Button,{variant:\"secondary\",className:\"d-inline-flex align-items-center\",onClick:onSubmit},/*#__PURE__*/React.createElement(PlusIcon,{className:\"icon icon-xs me-2\"}),\"Create \",type))));};export var KanbanMoveModal=function KanbanMoveModal(props){var _props$listId2,_props$index;var _props$type3=props.type,type=_props$type3===void 0?\"card\":_props$type3,_props$show4=props.show,show=_props$show4===void 0?false:_props$show4,_props$lists2=props.lists,lists=_props$lists2===void 0?[]:_props$lists2;var _useState15=useState((_props$listId2=props.listId)!==null&&_props$listId2!==void 0?_props$listId2:\"\"),_useState16=_slicedToArray(_useState15,2),listId=_useState16[0],setListId=_useState16[1];var _useState17=useState((_props$index=props.index)!==null&&_props$index!==void 0?_props$index:0),_useState18=_slicedToArray(_useState17,2),index=_useState18[0],setIndex=_useState18[1];var cardList=lists.find(function(l){return l.id===listId;});var onHide=function onHide(){props.onHide&&props.onHide();};var onSubmit=function onSubmit(){var source={droppableId:props.listId,index:props.index};var destination={droppableId:listId,index:index};props.onSubmit&&props.onSubmit({source:source,destination:destination});};return/*#__PURE__*/React.createElement(Modal,{as:Modal.Dialog,centered:true,show:show,onHide:onHide},/*#__PURE__*/React.createElement(Form,{className:\"modal-content p-3\"},/*#__PURE__*/React.createElement(Modal.Header,{className:\"pb-0 border-0\"},/*#__PURE__*/React.createElement(Modal.Title,{className:\"fw-normal\"},\"Move \",type),/*#__PURE__*/React.createElement(Button,{variant:\"close\",onClick:onHide})),/*#__PURE__*/React.createElement(Modal.Body,{className:\"pb-0\"},type===\"card\"?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(FloatingLabel,{id:\"listId\",label:\"List\",className:\"mb-3\"},/*#__PURE__*/React.createElement(Form.Select,{value:listId,onChange:function onChange(e){return setListId(e.target.value);}},lists.map(function(l){return/*#__PURE__*/React.createElement(\"option\",{value:l.id,key:\"move-list-id-\".concat(l.id)},l.id===props.listId?\"\".concat(l.title,\" (current)\"):l.title);}))),cardList&&/*#__PURE__*/React.createElement(FloatingLabel,{id:\"listIndex\",label:\"Position\",className:\"mb-3\"},/*#__PURE__*/React.createElement(Form.Select,{value:index,onChange:function onChange(e){return setIndex(e.target.value);}},cardList.cards.map(function(_,ind){return/*#__PURE__*/React.createElement(\"option\",{value:ind,key:\"move-list-index-\".concat(ind)},ind+1);})))):/*#__PURE__*/React.createElement(FloatingLabel,{id:\"listIndex\",label:\"Position\",className:\"mb-3\"},/*#__PURE__*/React.createElement(Form.Select,{value:index,onChange:function onChange(e){return setIndex(e.target.value);}},lists.map(function(_,ind){return/*#__PURE__*/React.createElement(\"option\",{value:ind,key:\"move-list-index-\".concat(ind)},ind===props.index?\"\".concat(ind+1,\" (current)\"):ind+1);})))),/*#__PURE__*/React.createElement(Modal.Footer,{className:\"justify-content-start border-0 pt-0\"},/*#__PURE__*/React.createElement(Button,{variant:\"secondary\",className:\"d-inline-flex align-items-center\",onClick:onSubmit},\"Move \",type))));};export var KanbanEditModal=function KanbanEditModal(props){var _props$title2;var cardId=props.id,index=props.index,listId=props.listId,_props$show5=props.show,show=_props$show5===void 0?false:_props$show5,author=props.author,_props$members=props.members,members=_props$members===void 0?[]:_props$members,_props$labels=props.labels,labels=_props$labels===void 0?[]:_props$labels,_props$comments=props.comments,comments=_props$comments===void 0?[]:_props$comments;var _useState19=useState((_props$title2=props.title)!==null&&_props$title2!==void 0?_props$title2:\"\"),_useState20=_slicedToArray(_useState19,2),title=_useState20[0],setTitle=_useState20[1];var _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),comment=_useState22[0],setComment=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),isTitleEditable=_useState24[0],setIsTitleEditable=_useState24[1];var toggleIsTitleEditable=function toggleIsTitleEditable(){setIsTitleEditable(!isTitleEditable);};var onHide=function onHide(){props.onHide&&props.onHide();};var onChange=function onChange(){var payload={listId:listId,cardId:cardId,title:title};if(title!==props.title){props.onChange&&props.onChange(payload);}toggleIsTitleEditable();};var onEditMembers=function onEditMembers(){props.onEditMembers&&props.onEditMembers(props);};var onEditLabels=function onEditLabels(){props.onEditLabels&&props.onEditLabels(props);};var onArchive=function onArchive(){props.onArchive&&props.onArchive({cardId:cardId,listId:listId});};var onMove=function onMove(){props.onMove&&props.onMove({listId:listId,index:index});};return/*#__PURE__*/React.createElement(Modal,{as:Modal.Dialog,centered:true,size:\"lg\",show:show,onHide:onHide},/*#__PURE__*/React.createElement(Form,{className:\"modal-content p-lg-3\"},/*#__PURE__*/React.createElement(Modal.Header,{className:\"align-items-start border-bottom\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-block\"},isTitleEditable?/*#__PURE__*/React.createElement(Form.Group,{id:\"title\",className:\"mb-3\"},/*#__PURE__*/React.createElement(Form.Control,{required:true,autoFocus:true,value:title,className:\"text-gray-900 fs-5 fw-bold border-0 px-1 py-0 m-0\",onChange:function onChange(e){return setTitle(e.target.value);},onBlur:onChange})):/*#__PURE__*/React.createElement(\"h5\",{className:\"text-gray-900 fs-5 fw-bold py-1 ps-1 mb-3\",onClick:toggleIsTitleEditable},title),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-block me-3 me-sm-4\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"fs-6 fw-bold text-gray-500\"},\"Members\"),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center\"},members.map(function(m){return/*#__PURE__*/React.createElement(KanbanAvatar,Object.assign({key:\"kanban-avatar-\".concat(m.id)},m));}),/*#__PURE__*/React.createElement(Button,{variant:\"gray-200\",size:\"sm\",className:\"d-inline-flex align-items-center px-3 ms-1\",onClick:onEditMembers},/*#__PURE__*/React.createElement(PlusIcon,{className:\"icon icon-xs\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-block me-3\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"fs-6 fw-bold text-gray-500\"},\"Labels\"),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center\"},labels.map(function(l){return/*#__PURE__*/React.createElement(Badge,{text:\"white\",bg:l.color,key:\"kanban-label-\".concat(l.id),className:\"rounded py-2 px-3\"},l.name);}),/*#__PURE__*/React.createElement(Button,{variant:\"gray-200\",size:\"sm\",className:\"d-inline-flex align-items-center px-3 ms-1\",onClick:onEditLabels},/*#__PURE__*/React.createElement(PlusIcon,{className:\"icon icon-xs\"})))))),/*#__PURE__*/React.createElement(Button,{variant:\"close\",onClick:onHide})),/*#__PURE__*/React.createElement(Modal.Body,{className:\"py-4\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{xs:12,lg:9},/*#__PURE__*/React.createElement(Row,{className:\"mb-4\"},/*#__PURE__*/React.createElement(Col,{xs:\"auto\"},/*#__PURE__*/React.createElement(\"div\",{className:\"border border-3 rounded mb-2\"},/*#__PURE__*/React.createElement(Image,{rounded:true,src:author.image,className:\"image-sm\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(PaperClipIcon,{className:\"icon icon-xs me-2\"}),/*#__PURE__*/React.createElement(CameraIcon,{className:\"icon icon-xs\"}))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Form.Group,{id:\"comment\"},/*#__PURE__*/React.createElement(Form.Control,{multiple:true,rows:3,as:\"textarea\",value:comment,onChange:function onChange(e){return setComment(e.target.value);},placeholder:\"Leave a comment\"})))),/*#__PURE__*/React.createElement(Row,{className:\"mb-4 mb-lg-0\"},comments.map(function(c){return/*#__PURE__*/React.createElement(Col,{xs:12,key:\"kanban-comment-\".concat(c.id),className:\"mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"bg-gray-50 border border-gray-100 rounded p-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center mb-2\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"fs-6 mb-0 me-3\"},c.sender),/*#__PURE__*/React.createElement(\"small\",null,moment(c.timeSent).fromNow())),/*#__PURE__*/React.createElement(\"p\",{className:\"text-dark mb-1\"},c.message),/*#__PURE__*/React.createElement(\"small\",{className:\"hover:underline text-gray-700 me-1\"},\"Edit\"),\"\\xB7\",/*#__PURE__*/React.createElement(\"small\",{className:\"hover:underline text-gray-700 ms-1\"},\"Delete\")));}))),/*#__PURE__*/React.createElement(Col,{xs:12,lg:3},/*#__PURE__*/React.createElement(\"div\",{className:\"d-grid gap-2\"},/*#__PURE__*/React.createElement(Button,{variant:\"gray-200\",size:\"sm\",className:\"d-inline-flex align-items-center rounded py-2 ps-3 text-start\",onClick:onEditMembers},/*#__PURE__*/React.createElement(UserGroupIcon,{className:\"icon icon-xs text-gray-500 me-2\"}),\"Members\"),/*#__PURE__*/React.createElement(Button,{variant:\"gray-200\",size:\"sm\",className:\"d-inline-flex align-items-center rounded py-2 ps-3 text-start\",onClick:onEditLabels},/*#__PURE__*/React.createElement(TagIcon,{className:\"icon icon-xs text-gray-500 me-2\"}),\"Labels\"),/*#__PURE__*/React.createElement(Button,{variant:\"gray-200\",size:\"sm\",className:\"d-inline-flex align-items-center rounded py-2 ps-3 text-start\"},/*#__PURE__*/React.createElement(ClipboardCheckIcon,{className:\"icon icon-xs text-gray-500 me-2\"}),\"Checklist\"),/*#__PURE__*/React.createElement(Button,{variant:\"gray-200\",size:\"sm\",className:\"d-inline-flex align-items-center rounded py-2 ps-3 text-start\"},/*#__PURE__*/React.createElement(PaperClipIcon,{className:\"icon icon-xs text-gray-500 me-2\"}),\"Attachment\"),/*#__PURE__*/React.createElement(Button,{variant:\"gray-200\",size:\"sm\",className:\"d-inline-flex align-items-center rounded py-2 ps-3 text-start\"},/*#__PURE__*/React.createElement(ClockIcon,{className:\"icon icon-xs text-gray-500 me-2\"}),\"Due Date\"))))),/*#__PURE__*/React.createElement(Modal.Footer,{className:\"justify-content-start border-top\"},/*#__PURE__*/React.createElement(Button,{variant:\"gray-800\",className:\"me-2 text-start\",onClick:onMove},/*#__PURE__*/React.createElement(SelectorIcon,{className:\"icon icon-xs me-2\"}),\"Move\"),/*#__PURE__*/React.createElement(Button,{variant:\"gray-800\",className:\"me-2 text-start\",onClick:onArchive},/*#__PURE__*/React.createElement(ArchiveIcon,{className:\"icon icon-xs me-2\"}),\"Archive\"),/*#__PURE__*/React.createElement(Button,{variant:\"gray-800\",className:\"me-2 text-start\"},/*#__PURE__*/React.createElement(EyeIcon,{className:\"icon icon-xs me-2\"}),\"Watch\"),/*#__PURE__*/React.createElement(Button,{variant:\"gray-800\",className:\"me-2 text-start\"},/*#__PURE__*/React.createElement(ShareIcon,{className:\"icon icon-xs me-2\"}),\"Share\"))));};export var KanbanEditMembersModal=function KanbanEditMembersModal(props){var listId=props.listId,cardId=props.id,_props$show6=props.show,show=_props$show6===void 0?false:_props$show6,_props$members2=props.members,members=_props$members2===void 0?[]:_props$members2;var _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),searchValue=_useState26[0],setSearchValue=_useState26[1];var _useState27=useState(BoardMembers.map(function(bm){return _objectSpread(_objectSpread({},bm),{},{show:true,isAssignedToCard:members.some(function(m){return m.id===bm.id;})});})),_useState28=_slicedToArray(_useState27,2),boardMembers=_useState28[0],setBoardMembers=_useState28[1];var onSearchValueChange=function onSearchValueChange(e){var newSearchValue=e.target.value;var searchResults=boardMembers.map(function(bm){return _objectSpread(_objectSpread({},bm),{},{show:bm.name.toLowerCase().includes(newSearchValue.toLowerCase())});});setSearchValue(newSearchValue);setBoardMembers(searchResults);};var onMemberClick=function onMemberClick(id){var boardMembersUpdated=boardMembers.map(function(m){return m.id===id?_objectSpread(_objectSpread({},m),{},{isAssignedToCard:!m.isAssignedToCard}):m;});setBoardMembers(boardMembersUpdated);};var onHide=function onHide(){props.onHide&&props.onHide();};var onSubmit=function onSubmit(){var membersSelected=boardMembers.filter(function(m){return m.isAssignedToCard;});var payload={listId:listId,cardId:cardId,members:membersSelected};return props.onSubmit&&props.onSubmit(payload);};return/*#__PURE__*/React.createElement(Modal,{as:Modal.Dialog,centered:true,scrollable:true,show:show,onHide:onHide},/*#__PURE__*/React.createElement(Form,{className:\"modal-content p-3\"},/*#__PURE__*/React.createElement(Modal.Header,{className:\"border-0 px-3 pb-0\"},/*#__PURE__*/React.createElement(Modal.Title,{className:\"fw-normal\"},\"Members\"),/*#__PURE__*/React.createElement(Button,{variant:\"close\",onClick:onHide})),/*#__PURE__*/React.createElement(Modal.Body,{className:\"px-3 pb-0\"},/*#__PURE__*/React.createElement(Form.Group,{id:\"search\",className:\"mb-3\"},/*#__PURE__*/React.createElement(InputGroup,{className:\"search-bar\"},/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Search board members..\",value:searchValue,onChange:onSearchValueChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"px-3\"},boardMembers.filter(function(m){return m.show;}).map(function(m){return/*#__PURE__*/React.createElement(Row,{key:\"board-member-\".concat(m.id),className:\"kanban-card-member border-bottom py-2\",onClick:function onClick(){return onMemberClick(m.id);}},/*#__PURE__*/React.createElement(Col,{xs:2},/*#__PURE__*/React.createElement(Image,{src:m.image,className:\"avatar-md rounded-circle\"})),/*#__PURE__*/React.createElement(Col,{xs:8,className:\"d-flex align-items-center justify-content-start\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"fs-6 text-dark mb-0\"},m.name)),m.isAssignedToCard&&/*#__PURE__*/React.createElement(Col,{xs:2,className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(CheckIcon,{className:\"icon icon-sm text-success\"})));}))),/*#__PURE__*/React.createElement(Modal.Footer,{className:\"justify-content-start border-0 pb-0\"},/*#__PURE__*/React.createElement(Button,{variant:\"secondary\",className:\"d-inline-flex align-items-center\",onClick:onSubmit},\"Confirm members\"))));};export var KanbanEditLabelsModal=function KanbanEditLabelsModal(props){var listId=props.listId,cardId=props.id,_props$show7=props.show,show=_props$show7===void 0?false:_props$show7,_props$labels2=props.labels,labels=_props$labels2===void 0?[]:_props$labels2;var _useState29=useState(\"\"),_useState30=_slicedToArray(_useState29,2),searchValue=_useState30[0],setSearchValue=_useState30[1];var _useState31=useState(BoardLabels.map(function(bm){return _objectSpread(_objectSpread({},bm),{},{show:true,isAssignedToCard:labels.some(function(m){return m.id===bm.id;})});})),_useState32=_slicedToArray(_useState31,2),boardLabels=_useState32[0],setBoardLabels=_useState32[1];var onSearchValueChange=function onSearchValueChange(e){var newSearchValue=e.target.value;var searchResults=boardLabels.map(function(bm){return _objectSpread(_objectSpread({},bm),{},{show:bm.name.toLowerCase().includes(newSearchValue.toLowerCase())});});setSearchValue(newSearchValue);setBoardLabels(searchResults);};var onLabelClick=function onLabelClick(id){var boardLabelsUpdated=boardLabels.map(function(m){return m.id===id?_objectSpread(_objectSpread({},m),{},{isAssignedToCard:!m.isAssignedToCard}):m;});setBoardLabels(boardLabelsUpdated);var labelsSelected=boardLabelsUpdated.filter(function(l){return l.isAssignedToCard;});var payload={listId:listId,cardId:cardId,labels:labelsSelected};props.onSubmit&&props.onSubmit(payload);};var onHide=function onHide(){props.onHide&&props.onHide();};return/*#__PURE__*/React.createElement(Modal,{as:Modal.Dialog,centered:true,scrollable:true,show:show,onHide:onHide},/*#__PURE__*/React.createElement(Form,{className:\"modal-content p-3\"},/*#__PURE__*/React.createElement(Modal.Header,{className:\"border-0 px-3 pb-0\"},/*#__PURE__*/React.createElement(Modal.Title,{className:\"fw-normal\"},\"Labels\"),/*#__PURE__*/React.createElement(Button,{variant:\"close\",onClick:onHide})),/*#__PURE__*/React.createElement(Modal.Body,{className:\"px-3 pb-0\"},/*#__PURE__*/React.createElement(Form.Group,{id:\"search\",className:\"mb-3\"},/*#__PURE__*/React.createElement(InputGroup,{className:\"search-bar\"},/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Search labels..\",value:searchValue,onChange:onSearchValueChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"px-3 py-2\"},boardLabels.filter(function(l){return l.show;}).map(function(l){return/*#__PURE__*/React.createElement(Row,{key:\"label-\".concat(l.id),className:\"my-1\"},/*#__PURE__*/React.createElement(Badge,{bg:l.color,className:\"kanban-card-label py-2 px-3\",onClick:function onClick(){return onLabelClick(l.id);}},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex align-items-center justify-content-between\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"fs-6 text-white mb-0\"},l.name),l.isAssignedToCard&&/*#__PURE__*/React.createElement(CheckIcon,{className:\"icon icon-sm\"}))));})))));};","map":{"version":3,"sources":["/Users/oisinlyons/Downloads/IDENTI3 PRO/src/components/Modals.js"],"names":["React","useState","moment","Datetime","ArchiveIcon","CalendarIcon","CameraIcon","CheckIcon","ClipboardCheckIcon","ClockIcon","EyeIcon","PaperClipIcon","PlusIcon","SelectorIcon","ShareIcon","TagIcon","UserGroupIcon","Col","Row","Form","Modal","Button","InputGroup","Image","Badge","FloatingLabel","KanbanAvatar","Members","BoardMembers","Labels","BoardLabels","EventModal","props","title","setTitle","start","setStart","end","setEnd","show","edit","id","startDate","format","endDate","onTitleChange","e","target","value","onConfirm","sameDay","finalStart","toDate","startOf","finalEnd","endOf","payload","onUpdate","onAdd","onDelete","onHide","Dialog","openCalendar","currDate","isSameOrAfter","KanbanCreateModal","modalTitle","type","description","setDescription","onDescriptionChange","onSubmit","Title","KanbanCopyModal","lists","otherProps","listId","setListId","select","map","l","KanbanMoveModal","index","setIndex","cardList","find","source","droppableId","destination","cards","_","ind","KanbanEditModal","cardId","author","members","labels","comments","comment","setComment","isTitleEditable","setIsTitleEditable","toggleIsTitleEditable","onChange","onEditMembers","onEditLabels","onArchive","onMove","m","color","name","image","c","sender","timeSent","fromNow","message","KanbanEditMembersModal","searchValue","setSearchValue","bm","isAssignedToCard","some","boardMembers","setBoardMembers","onSearchValueChange","newSearchValue","searchResults","toLowerCase","includes","onMemberClick","boardMembersUpdated","membersSelected","filter","KanbanEditLabelsModal","boardLabels","setBoardLabels","onLabelClick","boardLabelsUpdated","labelsSelected"],"mappings":"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","sourcesContent":["\nimport React, { useState } from \"react\";\nimport moment from \"moment-timezone\";\nimport Datetime from \"react-datetime\";\nimport { ArchiveIcon, CalendarIcon, CameraIcon, CheckIcon, ClipboardCheckIcon, ClockIcon, EyeIcon, PaperClipIcon, PlusIcon, SelectorIcon, ShareIcon, TagIcon, UserGroupIcon } from \"@heroicons/react/solid\";\nimport { Col, Row, Form, Modal, Button, InputGroup, Image, Badge, FloatingLabel } from 'react-bootstrap';\n\nimport KanbanAvatar from \"components/KanbanAvatar\";\nimport { Members as BoardMembers, Labels as BoardLabels } from \"data/kanban\";\n\n\nexport const EventModal = (props) => {\n  const [title, setTitle] = useState(props.title);\n  const [start, setStart] = useState(props.start);\n  const [end, setEnd] = useState(props.end);\n\n  const { show = false, edit = false, id } = props;\n  const startDate = start ? moment(start).format(\"YYYY-MM-DD\") : moment().format(\"YYYY-MM-DD\");\n  const endDate = end ? moment(end).format(\"YYYY-MM-DD\") : moment(start).format(\"YYYY-MM-DD\");\n\n  const onTitleChange = (e) => setTitle(e.target.value);\n\n  const onConfirm = () => {\n    const sameDay = startDate === endDate;\n    const finalStart = sameDay ? moment(startDate).toDate() : moment(startDate).startOf('day').toDate();\n    const finalEnd = sameDay ? null : moment(endDate).endOf('day').toDate();\n    const payload = { id, title, sameDay, start: finalStart, end: finalEnd };\n\n    if (edit) {\n      return props.onUpdate && props.onUpdate(payload);\n    }\n\n    return props.onAdd && props.onAdd(payload);\n  }\n  const onDelete = () => edit && props.onDelete && props.onDelete(id);\n  const onHide = () => props.onHide && props.onHide();\n\n  return (\n    <Modal as={Modal.Dialog} centered show={show} onHide={onHide}>\n      <Form className=\"modal-content\">\n        <Modal.Body>\n          <Form.Group id=\"title\" className=\"mb-4\">\n            <Form.Label>Event title</Form.Label>\n            <Form.Control\n              required\n              autoFocus\n              type=\"text\"\n              value={title}\n              onChange={onTitleChange} />\n          </Form.Group>\n          <Row>\n            <Col xs={12} lg={6}>\n              <Form.Group id=\"startDate\">\n                <Form.Label>Select start date</Form.Label>\n                <Datetime\n                  timeFormat={false}\n                  onChange={setStart}\n                  renderInput={(props, openCalendar) => (\n                    <InputGroup>\n                      <InputGroup.Text>\n                        <CalendarIcon className=\"icon icon-xs\" />\n                      </InputGroup.Text>\n                      <Form.Control\n                        required\n                        type=\"text\"\n                        placeholder=\"YYYY-MM-DD\"\n                        value={startDate}\n                        onFocus={openCalendar}\n                        onChange={() => { }} />\n                    </InputGroup>\n                  )} />\n              </Form.Group>\n            </Col>\n            <Col xs={12} lg={6}>\n              <Form.Group id=\"endDate\" className=\"mb-2\">\n                <Form.Label>Select end date</Form.Label>\n                <Datetime\n                  timeFormat={false}\n                  onChange={setEnd}\n                  isValidDate={currDate => currDate.isSameOrAfter(start)}\n                  initialViewDate={end || start}\n                  renderInput={(props, openCalendar) => (\n                    <InputGroup>\n                      <InputGroup.Text>\n                        <CalendarIcon className=\"icon icon-xs\" />\n                      </InputGroup.Text>\n                      <Form.Control\n                        required\n                        type=\"text\"\n                        placeholder=\"YYYY-MM-DD\"\n                        value={endDate}\n                        onFocus={openCalendar}\n                        onChange={() => { }} />\n                    </InputGroup>\n                  )} />\n              </Form.Group>\n            </Col>\n          </Row>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"primary\" className=\"me-2\" onClick={onConfirm}>\n            {edit ? \"Update event\" : \"Add new event\"}\n          </Button>\n\n          {edit ? (\n            <Button variant=\"danger\" onClick={onDelete}>\n              Delete event\n            </Button>\n          ) : null}\n\n          <Button variant=\"link\" className=\"text-gray ms-auto\" onClick={onHide}>\n            Close\n          </Button>\n        </Modal.Footer>\n      </Form>\n    </Modal>\n  );\n};\n\nexport const KanbanCreateModal = (props) => {\n  const { modalTitle = \"Add a new card\", type = \"card\", show = false } = props;\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  const onTitleChange = (e) => setTitle(e.target.value);\n  const onDescriptionChange = (e) => setDescription(e.target.value);\n  const onHide = () => props.onHide && props.onHide();\n\n  const onSubmit = () => {\n    const payload = { title, description };\n    return props.onSubmit && props.onSubmit(payload);\n  };\n\n  return (\n    <Modal as={Modal.Dialog} centered show={show} onHide={onHide}>\n      <Form className=\"modal-content p-3\">\n        <Modal.Header className=\"pb-0 border-0\">\n          <h5 as={Modal.Title} className=\"fw-normal\">\n            {modalTitle}\n          </h5>\n          <Button variant=\"close\" onClick={onHide} />\n        </Modal.Header>\n        <Modal.Body className=\"pb-0\">\n          <Form.Group id=\"title\" className=\"mb-3\">\n            <Form.Control\n              required\n              autoFocus\n              type=\"text\"\n              value={title}\n              onChange={onTitleChange}\n              placeholder={`Enter a title for this ${type}`}\n            />\n          </Form.Group>\n          {type === \"card\" && (\n            <Form.Group id=\"description\" className=\"mb-3\">\n              <Form.Control\n                required\n                autoFocus\n                multiple\n                as=\"textarea\"\n                value={description}\n                onChange={onDescriptionChange}\n                placeholder={`Enter a description for this ${type}`}\n              />\n            </Form.Group>\n          )}\n        </Modal.Body>\n        <Modal.Footer className=\"justify-content-start border-0 pt-0\">\n          <Button variant=\"outline-gray-500\" onClick={onHide}>\n            Close\n          </Button>\n          <Button variant=\"secondary\" className=\"d-inline-flex align-items-center\" onClick={onSubmit}>\n            <PlusIcon className=\"icon icon-xs me-2\" />\n            Add {type}\n          </Button>\n        </Modal.Footer>\n      </Form>\n    </Modal>\n  );\n};\n\nexport const KanbanCopyModal = (props) => {\n  const { type = \"card\", show = false, lists = [], ...otherProps } = props;\n  const [title, setTitle] = useState(props.title ?? \"\");\n  const [listId, setListId] = useState(props.listId ?? \"\");\n\n  const onHide = () => {\n    props.onHide && props.onHide();\n  };\n\n  const onSubmit = () => {\n    const payload = { ...otherProps, title, listId };\n    return props.onSubmit && props.onSubmit(payload);\n  };\n\n  return (\n    <Modal as={Modal.Dialog} centered show={show} onHide={onHide}>\n      <Form className=\"modal-content p-3\">\n        <Modal.Header className=\"pb-0 border-0\">\n          <Modal.Title className=\"fw-normal\">\n            Copy {type}\n          </Modal.Title>\n          <Button variant=\"close\" onClick={onHide} />\n        </Modal.Header>\n        <Modal.Body className=\"pb-0\">\n          <Form.Group id=\"title\" className=\"mb-3\">\n            <Form.Control\n              autoFocus\n              type=\"text\"\n              value={title}\n              onChange={e => setTitle(e.target.value)}\n              onFocus={e => e.target.select()}\n            />\n          </Form.Group>\n          {type === \"card\" && (\n            <FloatingLabel id=\"list\" label=\"Copy to list..\" className=\"mb-3\">\n              <Form.Select\n                value={listId}\n                onChange={e => setListId(e.target.value)}\n              >\n                {lists.map(l => (\n                  <option value={l.id} key={`copy-card-option-${l.id}`}>\n                    {l.title}\n                  </option>\n                ))}\n              </Form.Select>\n            </FloatingLabel>\n          )}\n        </Modal.Body>\n        <Modal.Footer className=\"justify-content-start border-0 pt-0\">\n          <Button variant=\"secondary\" className=\"d-inline-flex align-items-center\" onClick={onSubmit}>\n            <PlusIcon className=\"icon icon-xs me-2\" />\n            Create {type}\n          </Button>\n        </Modal.Footer>\n      </Form>\n    </Modal>\n  );\n};\n\nexport const KanbanMoveModal = (props) => {\n  const { type = \"card\", show = false, lists = [] } = props;\n  const [listId, setListId] = useState(props.listId ?? \"\");\n  const [index, setIndex] = useState(props.index ?? 0);\n  const cardList = lists.find(l => l.id === listId);\n\n  const onHide = () => {\n    props.onHide && props.onHide();\n  };\n\n  const onSubmit = () => {\n    const source = { droppableId: props.listId, index: props.index };\n    const destination = { droppableId: listId, index };\n\n    props.onSubmit && props.onSubmit({ source, destination });\n  };\n\n  return (\n    <Modal as={Modal.Dialog} centered show={show} onHide={onHide}>\n      <Form className=\"modal-content p-3\">\n        <Modal.Header className=\"pb-0 border-0\">\n          <Modal.Title className=\"fw-normal\">\n            Move {type}\n          </Modal.Title>\n          <Button variant=\"close\" onClick={onHide} />\n        </Modal.Header>\n        <Modal.Body className=\"pb-0\">\n          {type === \"card\" ? (\n            <>\n              <FloatingLabel id=\"listId\" label=\"List\" className=\"mb-3\">\n                <Form.Select\n                  value={listId}\n                  onChange={e => setListId(e.target.value)}\n                >\n                  {lists.map(l => (\n                    <option value={l.id} key={`move-list-id-${l.id}`}>\n                      {l.id === props.listId ? `${l.title} (current)` : l.title}\n                    </option>\n                  ))}\n                </Form.Select>\n              </FloatingLabel>\n              {cardList && (\n                <FloatingLabel id=\"listIndex\" label=\"Position\" className=\"mb-3\">\n                  <Form.Select\n                    value={index}\n                    onChange={e => setIndex(e.target.value)}\n                  >\n                    {cardList.cards.map((_, ind) => (\n                      <option value={ind} key={`move-list-index-${ind}`}>\n                        {ind + 1}\n                      </option>\n                    ))}\n                  </Form.Select>\n                </FloatingLabel>\n              )}\n            </>\n          ) : (\n            <FloatingLabel id=\"listIndex\" label=\"Position\" className=\"mb-3\">\n              <Form.Select\n                value={index}\n                onChange={e => setIndex(e.target.value)}\n              >\n                {lists.map((_, ind) => (\n                  <option value={ind} key={`move-list-index-${ind}`}>\n                    {ind === props.index ? `${ind + 1} (current)` : ind + 1}\n                  </option>\n                ))}\n              </Form.Select>\n            </FloatingLabel>\n          )}\n        </Modal.Body>\n        <Modal.Footer className=\"justify-content-start border-0 pt-0\">\n          <Button variant=\"secondary\" className=\"d-inline-flex align-items-center\" onClick={onSubmit}>\n            Move {type}\n          </Button>\n        </Modal.Footer>\n      </Form>\n    </Modal>\n  );\n};\n\nexport const KanbanEditModal = (props) => {\n  const { id: cardId, index, listId, show = false, author, members = [], labels = [], comments = [] } = props;\n  const [title, setTitle] = useState(props.title ?? \"\");\n  const [comment, setComment] = useState(\"\");\n  const [isTitleEditable, setIsTitleEditable] = useState(false);\n\n  const toggleIsTitleEditable = () => {\n    setIsTitleEditable(!isTitleEditable);\n  };\n\n  const onHide = () => {\n    props.onHide && props.onHide();\n  };\n\n  const onChange = () => {\n    const payload = { listId, cardId, title };\n\n    if (title !== props.title) {\n      props.onChange && props.onChange(payload);\n    }\n\n    toggleIsTitleEditable();\n  };\n\n  const onEditMembers = () => {\n    props.onEditMembers && props.onEditMembers(props);\n  };\n\n  const onEditLabels = () => {\n    props.onEditLabels && props.onEditLabels(props);\n  };\n\n  const onArchive = () => {\n    props.onArchive && props.onArchive({ cardId, listId });\n  };\n\n  const onMove = () => {\n    props.onMove && props.onMove({ listId, index });\n  };\n\n  return (\n    <Modal as={Modal.Dialog} centered size=\"lg\" show={show} onHide={onHide}>\n      <Form className=\"modal-content p-lg-3\">\n        <Modal.Header className=\"align-items-start border-bottom\">\n          <div className=\"d-block\">\n            {isTitleEditable ? (\n              <Form.Group id=\"title\" className=\"mb-3\">\n                <Form.Control\n                  required\n                  autoFocus\n                  value={title}\n                  className=\"text-gray-900 fs-5 fw-bold border-0 px-1 py-0 m-0\"\n                  onChange={e => setTitle(e.target.value)}\n                  onBlur={onChange}\n                />\n              </Form.Group>\n            ) : (\n              <h5 className=\"text-gray-900 fs-5 fw-bold py-1 ps-1 mb-3\" onClick={toggleIsTitleEditable}>\n                {title}\n              </h5>\n            )}\n\n            <div className=\"d-flex\">\n              <div className=\"d-block me-3 me-sm-4\">\n                <h5 className=\"fs-6 fw-bold text-gray-500\">Members</h5>\n                <div className=\"d-flex align-items-center\">\n                  {members.map(m => <KanbanAvatar key={`kanban-avatar-${m.id}`}  {...m} />)}\n\n                  <Button variant=\"gray-200\" size=\"sm\" className=\"d-inline-flex align-items-center px-3 ms-1\" onClick={onEditMembers}>\n                    <PlusIcon className=\"icon icon-xs\" />\n                  </Button>\n                </div>\n              </div>\n              <div className=\"d-block me-3\">\n                <h5 className=\"fs-6 fw-bold text-gray-500\">Labels</h5>\n                <div className=\"d-flex align-items-center\">\n                  {labels.map(l => (\n                    <Badge text=\"white\" bg={l.color} key={`kanban-label-${l.id}`} className=\"rounded py-2 px-3\">\n                      {l.name}\n                    </Badge>\n                  ))}\n\n                  <Button variant=\"gray-200\" size=\"sm\" className=\"d-inline-flex align-items-center px-3 ms-1\" onClick={onEditLabels}>\n                    <PlusIcon className=\"icon icon-xs\" />\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </div>\n          <Button variant=\"close\" onClick={onHide} />\n        </Modal.Header>\n\n        <Modal.Body className=\"py-4\">\n          <Row>\n            <Col xs={12} lg={9}>\n              <Row className=\"mb-4\">\n                <Col xs=\"auto\">\n                  <div className=\"border border-3 rounded mb-2\">\n                    <Image rounded src={author.image} className=\"image-sm\" />\n                  </div>\n                  <div className=\"text-center\">\n                    <PaperClipIcon className=\"icon icon-xs me-2\" />\n                    <CameraIcon className=\"icon icon-xs\" />\n                  </div>\n                </Col>\n                <Col>\n                  <Form.Group id=\"comment\">\n                    <Form.Control\n                      multiple\n                      rows={3}\n                      as=\"textarea\"\n                      value={comment}\n                      onChange={e => setComment(e.target.value)}\n                      placeholder=\"Leave a comment\"\n                    />\n                  </Form.Group>\n                </Col>\n              </Row>\n              <Row className=\"mb-4 mb-lg-0\">\n                {comments.map(c => (\n                  <Col xs={12} key={`kanban-comment-${c.id}`} className=\"mb-4\">\n                    <div className=\"bg-gray-50 border border-gray-100 rounded p-3\">\n                      <div className=\"d-flex align-items-center mb-2\">\n                        <h3 className=\"fs-6 mb-0 me-3\">\n                          {c.sender}\n                        </h3>\n                        <small>\n                          {moment(c.timeSent).fromNow()}\n                        </small>\n                      </div>\n                      <p className=\"text-dark mb-1\">\n                        {c.message}\n                      </p>\n\n                      <small className=\"hover:underline text-gray-700 me-1\">\n                        Edit\n                      </small>\n                      &middot;\n                      <small className=\"hover:underline text-gray-700 ms-1\">\n                        Delete\n                      </small>\n                    </div>\n                  </Col>\n                ))}\n              </Row>\n            </Col>\n            <Col xs={12} lg={3}>\n              <div className=\"d-grid gap-2\">\n                <Button variant=\"gray-200\" size=\"sm\" className=\"d-inline-flex align-items-center rounded py-2 ps-3 text-start\" onClick={onEditMembers}>\n                  <UserGroupIcon className=\"icon icon-xs text-gray-500 me-2\" />\n                  Members\n                </Button>\n                <Button variant=\"gray-200\" size=\"sm\" className=\"d-inline-flex align-items-center rounded py-2 ps-3 text-start\" onClick={onEditLabels}>\n                  <TagIcon className=\"icon icon-xs text-gray-500 me-2\" />\n                  Labels\n                </Button>\n                <Button variant=\"gray-200\" size=\"sm\" className=\"d-inline-flex align-items-center rounded py-2 ps-3 text-start\">\n                  <ClipboardCheckIcon className=\"icon icon-xs text-gray-500 me-2\" />\n                  Checklist\n                </Button>\n                <Button variant=\"gray-200\" size=\"sm\" className=\"d-inline-flex align-items-center rounded py-2 ps-3 text-start\">\n                  <PaperClipIcon className=\"icon icon-xs text-gray-500 me-2\" />\n                  Attachment\n                </Button>\n                <Button variant=\"gray-200\" size=\"sm\" className=\"d-inline-flex align-items-center rounded py-2 ps-3 text-start\">\n                  <ClockIcon className=\"icon icon-xs text-gray-500 me-2\" />\n                  Due Date\n                </Button>\n              </div>\n            </Col>\n          </Row>\n        </Modal.Body>\n\n        <Modal.Footer className=\"justify-content-start border-top\">\n          <Button variant=\"gray-800\" className=\"me-2 text-start\" onClick={onMove}>\n            <SelectorIcon className=\"icon icon-xs me-2\" />\n            Move\n          </Button>\n          <Button variant=\"gray-800\" className=\"me-2 text-start\" onClick={onArchive}>\n            <ArchiveIcon className=\"icon icon-xs me-2\" />\n            Archive\n          </Button>\n          <Button variant=\"gray-800\" className=\"me-2 text-start\">\n            <EyeIcon className=\"icon icon-xs me-2\" />\n            Watch\n          </Button>\n          <Button variant=\"gray-800\" className=\"me-2 text-start\">\n            <ShareIcon className=\"icon icon-xs me-2\" />\n            Share\n          </Button>\n        </Modal.Footer>\n      </Form>\n    </Modal>\n  );\n};\n\nexport const KanbanEditMembersModal = (props) => {\n  const { listId, id: cardId, show = false, members = [] } = props;\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [boardMembers, setBoardMembers] = useState(BoardMembers.map(bm => ({ ...bm, show: true, isAssignedToCard: members.some(m => m.id === bm.id) })));\n\n  const onSearchValueChange = (e) => {\n    const newSearchValue = e.target.value;\n    const searchResults = boardMembers.map(bm => ({ ...bm, show: bm.name.toLowerCase().includes(newSearchValue.toLowerCase()) }));\n\n    setSearchValue(newSearchValue);\n    setBoardMembers(searchResults);\n  };\n\n  const onMemberClick = (id) => {\n    const boardMembersUpdated = boardMembers.map(m => m.id === id ? ({ ...m, isAssignedToCard: !m.isAssignedToCard }) : m);\n    setBoardMembers(boardMembersUpdated);\n  };\n\n  const onHide = () => {\n    props.onHide && props.onHide();\n  };\n\n  const onSubmit = () => {\n    const membersSelected = boardMembers.filter(m => m.isAssignedToCard);\n    const payload = { listId, cardId, members: membersSelected };\n\n    return props.onSubmit && props.onSubmit(payload);\n  };\n\n  return (\n    <Modal as={Modal.Dialog} centered scrollable show={show} onHide={onHide}>\n      <Form className=\"modal-content p-3\">\n        <Modal.Header className=\"border-0 px-3 pb-0\">\n          <Modal.Title className=\"fw-normal\">\n            Members\n          </Modal.Title>\n          <Button variant=\"close\" onClick={onHide} />\n        </Modal.Header>\n\n        <Modal.Body className=\"px-3 pb-0\">\n          <Form.Group id=\"search\" className=\"mb-3\">\n            <InputGroup className=\"search-bar\">\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Search board members..\"\n                value={searchValue}\n                onChange={onSearchValueChange}\n              />\n            </InputGroup>\n          </Form.Group>\n\n          <div className=\"px-3\">\n            {boardMembers\n              .filter(m => m.show)\n              .map(m => (\n                <Row\n                  key={`board-member-${m.id}`}\n                  className=\"kanban-card-member border-bottom py-2\"\n                  onClick={() => onMemberClick(m.id)}\n                >\n                  <Col xs={2}>\n                    <Image src={m.image} className=\"avatar-md rounded-circle\" />\n                  </Col>\n                  <Col xs={8} className=\"d-flex align-items-center justify-content-start\">\n                    <h4 className=\"fs-6 text-dark mb-0\">\n                      {m.name}\n                    </h4>\n                  </Col>\n                  {m.isAssignedToCard && (\n                    <Col xs={2} className=\"d-flex align-items-center\">\n                      <CheckIcon className=\"icon icon-sm text-success\" />\n                    </Col>\n                  )}\n                </Row>\n              ))}\n          </div>\n        </Modal.Body>\n        <Modal.Footer className=\"justify-content-start border-0 pb-0\">\n          <Button variant=\"secondary\" className=\"d-inline-flex align-items-center\" onClick={onSubmit}>\n            Confirm members\n          </Button>\n        </Modal.Footer>\n      </Form>\n    </Modal>\n  );\n};\n\nexport const KanbanEditLabelsModal = (props) => {\n  const { listId, id: cardId, show = false, labels = [] } = props;\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [boardLabels, setBoardLabels] = useState(BoardLabels.map(bm => ({ ...bm, show: true, isAssignedToCard: labels.some(m => m.id === bm.id) })));\n\n  const onSearchValueChange = (e) => {\n    const newSearchValue = e.target.value;\n    const searchResults = boardLabels.map(bm => ({ ...bm, show: bm.name.toLowerCase().includes(newSearchValue.toLowerCase()) }));\n\n    setSearchValue(newSearchValue);\n    setBoardLabels(searchResults);\n  };\n\n  const onLabelClick = (id) => {\n    const boardLabelsUpdated = boardLabels.map(m => m.id === id ? ({ ...m, isAssignedToCard: !m.isAssignedToCard }) : m);\n    setBoardLabels(boardLabelsUpdated);\n\n    const labelsSelected = boardLabelsUpdated.filter(l => l.isAssignedToCard);\n    const payload = { listId, cardId, labels: labelsSelected };\n    props.onSubmit && props.onSubmit(payload);\n  };\n\n  const onHide = () => {\n    props.onHide && props.onHide();\n  };\n\n  return (\n    <Modal as={Modal.Dialog} centered scrollable show={show} onHide={onHide}>\n      <Form className=\"modal-content p-3\">\n        <Modal.Header className=\"border-0 px-3 pb-0\">\n          <Modal.Title className=\"fw-normal\">\n            Labels\n          </Modal.Title>\n          <Button variant=\"close\" onClick={onHide} />\n        </Modal.Header>\n\n        <Modal.Body className=\"px-3 pb-0\">\n          <Form.Group id=\"search\" className=\"mb-3\">\n            <InputGroup className=\"search-bar\">\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Search labels..\"\n                value={searchValue}\n                onChange={onSearchValueChange}\n              />\n            </InputGroup>\n          </Form.Group>\n\n          <div className=\"px-3 py-2\">\n            {boardLabels\n              .filter(l => l.show)\n              .map(l => (\n                <Row key={`label-${l.id}`} className=\"my-1\">\n                  <Badge\n                    bg={l.color}\n                    className=\"kanban-card-label py-2 px-3\"\n                    onClick={() => onLabelClick(l.id)}\n                  >\n                    <div className=\"d-flex align-items-center justify-content-between\">\n                      <h4 className=\"fs-6 text-white mb-0\">\n                        {l.name}\n                      </h4>\n                      {l.isAssignedToCard && (\n                        <CheckIcon className=\"icon icon-sm\" />\n                      )}\n                    </div>\n                  </Badge>\n                </Row>\n              ))}\n          </div>\n        </Modal.Body>\n      </Form>\n    </Modal>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}